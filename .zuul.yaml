- project:
    name: rcarrillocruz-org/ansible-fork
    check:
      jobs:
        - run-openvswitch-integration-tests-a_b
        - run-openvswitch-integration-tests-c_z

- job:
    name: run-openvswitch-integration-tests-a_b
    files:
      - ^lib/ansible/modules/network/ovs/.*$
      - ^test/integration/targets/openvswitch.*$
      - ^\.zuul.yaml$
      - ^playbooks/.*$
    run: playbooks/run-openvswitch-integration-tests-a_b/run.yaml
    nodeset:
      nodes:
        - name: bastion
          label: ubuntu-xenial
        - name: openvswitch
          label: ubuntu-xenial
    vars:
      platform: openvswitch
      tests_regex: _[a-b].*

- job:
    name: run-openvswitch-integration-tests-c_z
    files:
      - ^lib/ansible/modules/network/ovs/.*$
      - ^test/integration/targets/openvswitch.*$
      - ^\.zuul.yaml$
      - ^playbooks/.*$
    run: playbooks/run-openvswitch-integration-tests-c_z/run.yaml
    nodeset:
      nodes:
        - name: bastion
          label: ubuntu-xenial
        - name: openvswitch
          label: ubuntu-xenial
    vars:
      platform: openvswitch
      tests_regex: _[c-z].*
